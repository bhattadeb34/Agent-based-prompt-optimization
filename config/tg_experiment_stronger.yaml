task:
  name: "Tg Optimization Experiment - Stronger Models"
  surrogate: gnn_tg
  dataset: /noether/s0/dxb5775/agentic-prompt-optimization/data/tg_train.csv
  smiles_column: SMILES
  sample_size: 30

  molecule_type: "polymer"
  domain_context: >
    '*' marks the repeat-unit attachment points (two per SMILES, PolyInfo convention).
    Every generated SMILES MUST contain exactly two '*' characters.
    The goal is to maximise glass transition temperature (Tg in °C).
    Higher Tg → better thermal stability, mechanical strength, and potential use in
    high-performance films, membranes, and structural composites.
    Structural features that raise Tg: rigid aromatic backbones, bulky pendant groups,
    cyclic structures, hydrogen-bond donors/acceptors, strong inter-chain interactions.
    Avoid: long flexible aliphatic chains, excessive ether linkages without compensating
    rigidity, low-MW substituents that plasticise the chain.
    Example high-Tg SMILES:
      *c1ccc(C(=O)Nc2ccc(*)cc2)cc1
      *OC(=O)c1ccc(C(=O)O*)cc1
      *c1ccc(Oc2ccc(S(=O)(=O)c3ccc(*)cc3)cc2)cc1
  smiles_markers: ["*"]
  similarity_on_repeat_unit: true

models:
  # STRATEGIC preset: Strong models where critical, cheap models for bulk/simple tasks
  # Reasoning: Worker generates 240 SMILES (use free Gemini), Critic/Meta do strategic
  # thinking (use premium GPT-5.2), Orchestrator does simple routing (use cheap GPT-4o-mini)
  worker: gemini/gemini-2.0-flash                   # FREE - generates 240 SMILES/run
  critic: openai/gpt-5.2-2025-12-11                 # PREMIUM - strategy refinement (10 calls)
  meta: openai/gpt-5.2-2025-12-11                   # PREMIUM - strategic pivots (3 calls)
  orchestrator: openai/gpt-4o-mini                  # CHEAP - tool routing (10 calls)
  knowledge_extractor: openai/gpt-4o                # BALANCED - final analysis (1 call)

optimization:
  mode: loop
  n_outer_epochs: 10
  n_per_molecule: 4
  batch_size: 6
  meta_interval: 3
  reward_function: pareto_hypervolume
  seed_strategy: >
    Generate polymer repeat-unit SMILES (with exactly two '*') to maximise
    glass transition temperature (Tg in °C).
    Prefer rigid aromatic backbones, imide/amide linkages, and bulky cyclic groups.
    Each SMILES must contain exactly two '*'.

temperatures:
  worker: 0.7      # Lower temperature for thinking model (more focused)
  critic: 0.3      # Slightly higher for creativity in refinement
  meta: 0.4        # Balanced exploration in strategic thinking

output:
  run_dir: ./results/tg_experiment_stronger
  extract_knowledge: true
