task:
  name: "Polymer Electrolyte Conductivity Maximisation"
  surrogate: gnn_conductivity
  model_base_path: /noether/s0/dxb5775/prompt-optimization-work-jan-8/htpmd/ml_models
  dataset: /noether/s0/dxb5775/prompt-optimization-work-jan-8/data/PolyGen-train-set-from-HTP-MD.csv
  smiles_column: mol_smiles
  sample_size: 20

  # Domain knowledge â€” injected into all LLM prompts
  molecule_type: "polymer electrolyte"
  domain_context: >
    [Cu] and [Au] are SYMBOLIC PLACEHOLDERS for polymer backbone connection points.
    They are NOT actual copper or gold atoms.
    Every generated SMILES MUST contain exactly one [Cu] and one [Au].
    Key strategies: modify ether linkages, side chain flexibility, pendant polar groups.
    Example valid SMILES:
      CC(CO[Cu])CSCCOC(=O)[Au]
      CC(CO[Cu])COCCOC(=O)[Au]
      O=C([Au])NCCCCNC(=O)CCCN[Cu]
  smiles_markers: ["[Cu]", "[Au]"]
  similarity_on_repeat_unit: true

models:
  worker: gemini/gemini-2.0-flash
  critic: openai/gpt-4o-mini
  meta: openai/gpt-4o
  orchestrator: openai/gpt-4o-mini   # drives the agent tool loop
  knowledge_extractor: openai/gpt-4o

optimization:
  mode: agent                  # 'agent' (tool-calling orchestrator) or 'loop' (fixed epochs)
  n_outer_epochs: 8            # used to set default tool budget in agent mode
  tool_budget: 25              # total LLM tool calls the orchestrator can make
  n_per_molecule: 3
  batch_size: 4
  meta_interval: 3             # for loop mode; agent decides itself
  reward_function: pareto_hypervolume

temperatures:
  worker: 0.85
  critic: 0.2
  meta: 0.3

output:
  run_dir: ./runs
  extract_knowledge: true
